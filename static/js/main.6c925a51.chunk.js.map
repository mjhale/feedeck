{"version":3,"sources":["api/eventuallie.js","redux/store.js","redux/actions.js","components/filter-select.js","ballclark.png","api/blaseball.js","components/card-metadata.js","components/card.js","lib/darkmode.js","lib/hashurl.js","components/deckloader.js","components/settings.js","lib/munch.js","components/card-container.js","api/chronicler.js","App.js","index.js"],"names":["knownTypes","value","desc","fetchFeed","playerIds","teamIds","eventTypes","beings","categories","after","limit","before","unredacted","fetch","then","res","json","events","filter","e","type","map","event","params","URLSearchParams","length","append","join","toString","initialState","feed","columnDefs","lastUpdate","Date","now","autoRefresh","feeds","teamOptions","playerOptions","showCurrentSeason","showMetadata","store","createStore","state","action","payload","entry","key","title","undefined","i","findIndex","id","swap","delta","tmp","copy","prev","reset","existingIds","Set","prepend","entries","has","slice","addColumn","dispatch","uuidv4","setColumns","columns","updateColumn","moveColumn","direction","feedsMe","setLastUpdate","setAutoRefresh","ar","toggleExpandMetadata","AdvancedTypeModal","props","defs","close","useState","types","setTypes","search","setSearch","style","margin","placeholder","onChange","target","className","t","toLowerCase","includes","checked","delete","add","htmlFor","onClick","TypeSelect","colId","expandAdvanced","setExpandAdvanced","category","setCategory","useEffect","categoryOptions","label","size","o","clear","isOpen","FilterSelect","useSelector","find","c","expand","setExpand","removeConfirm","setRemoveConfirm","beingOptions","checkTitle","opt","selectStyle","option","styles","cursor","control","onBlur","classNamePrefix","options","defaultValue","isMulti","p","b","cache","NodeCache","BASE_URL","cachedFetch","url","ttl","cached","get","Promise","resolve","promised","js","set","getMod","Minus","color","Plus","Star","stroke","fill","version","baseProfile","viewBox","height","width","xmlns","d","Arrow","getPosition","emoji","String","fromCodePoint","err","roundNum","n","Math","round","getTeamEmoji","getTeam","team","StarNumber","AddedMod","sign","metadata","setColor","text","setText","mod","m","textColor","TimedModExpiry","mods","setMods","ReplaceMod","from","setFrom","to","setTo","MultiMod","adds","setAdds","removes","setRemoves","r","a","TeamEmoji","teamId","em","setEm","AddPlayer","pos","location","teamName","playerName","ShadowSwapNecro","addPos","addLocation","remPos","retreatLocation","retreatPlayerName","addPlayerName","ShadowSwapReturn","promoteLocation","removeLocation","removePlayerName","promotePlayerName","TradePlayer","aTeamId","aTeamName","bPlayerName","bTeamId","bTeamName","aPlayerName","PositionSwap","bLocation","aLocation","SendPlayer","sendTeamId","sendTeamName","receiveTeamId","receiveTeamName","IncineratePlayer","outPlayerName","inPlayerName","IncreaseRating","IncreaseAttr","Score","awayEmoji","awayScore","homeEmoji","homeScore","EntryMetadata","data","EntryMetadataContainer","LoadingClark","alt","src","ballclark","Entry","this","season","day","phase","tournament","description","entryText","parseInt","being","seasInt","seasStr","dayStr","fromCharCode","split","line","React","PureComponent","EntryCluster","feedEntries","clustered","reduce","acc","f","last","pop","push","LoadMore","loadMore","place","effect","clickable","Entries","filters","loading","setLoading","setSeason","s","cancelled","loadingMore","setLoadingMore","parse","created","Card","isDarkMode","document","documentElement","getAttribute","toggleDarkMode","mode","classList","setAttribute","window","setTimeout","remove","toTinyColumn","column","tiny","u","fromTinyColumn","decompress","hash","codec","compress","saveDeck","name","setSavedDecks","decks","localStorage","getItem","parsed","JSON","content","setItem","stringify","DeckLoader","savedDecks","confirmSave","setConfirmSave","toLocaleString","saveName","setSaveName","saved","onKeyUp","keyCode","preventDefault","deck","AddColumn","ShareLink","shareLink","setShareLink","toastLink","link","navigator","clipboard","writeText","toast","autoClose","hideProgressBar","pauseOnHover","draggable","method","body","headers","status","Error","tinyHash","origin","catch","readonly","select","NewDeck","open","DuplicateDeck","RefreshFeed","intervalRef","useRef","refresher","updateFrom","all","refreshFeeds2","clearTimeout","current","DarkToggle","isDark","setIsDark","ShowCurrentSeason","ToggleMetadata","SettingsColumn","CardContainer","history","useHistory","match","cols","getNames","initChron","Object","ilbTeamIds","indexOf","scattered","fullName","App","path","component","ReactDOM","render","StrictMode","getElementById","Modal","setAppElement"],"mappings":"4MA6FaA,GAFK,UA3FW,CAC3B,EACA,EACA,EACA,EACA,EACA,EACA,GACA,GACA,GACA,IAGqB,CACrB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GAEA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,KAGkB,CAClB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAGkB,CAClB,GACA,GACA,GACA,GACA,GACA,GACA,IACA,IACA,IACA,MAawB,CACxB,CAACC,MAAO,EAAGC,KAAM,cACjB,CAACD,MAAO,EAAGC,KAAM,cACjB,CAACD,MAAO,EAAGC,KAAM,eACjB,CAACD,MAAO,EAAGC,KAAM,kBACjB,CAACD,MAAO,EAAGC,KAAM,eACjB,CAACD,MAAO,EAAGC,KAAM,QACjB,CAACD,MAAO,EAAGC,KAAM,aACjB,CAACD,MAAO,EAAGC,KAAM,UACjB,CAACD,MAAO,EAAGC,KAAM,cACjB,CAACD,MAAO,EAAGC,KAAM,YACjB,CAACD,MAAO,GAAIC,KAAM,8BAClB,CAACD,MAAO,GAAIC,KAAM,YAClB,CAACD,MAAO,GAAIC,KAAM,oBAClB,CAACD,MAAO,GAAIC,KAAM,qCAClB,CAACD,MAAO,GAAIC,KAAM,QAClB,CAACD,MAAO,GAAIC,KAAM,aAClB,CAACD,MAAO,GAAIC,KAAM,wBAClB,CAACD,MAAO,GAAIC,KAAM,mCAClB,CAACD,MAAO,GAAIC,KAAM,gBAClB,CAACD,MAAO,GAAIC,KAAM,oDAClB,CAACD,MAAO,GAAIC,KAAM,YAClB,CAACD,MAAO,GAAIC,KAAM,mCAClB,CAACD,MAAO,GAAIC,KAAM,kBAClB,CAACD,MAAO,GAAIC,KAAM,cAClB,CAACD,MAAO,GAAIC,KAAM,iBAClB,CAACD,MAAO,GAAIC,KAAM,sBAClB,CAACD,MAAO,GAAIC,KAAM,oCAClB,CAACD,MAAO,GAAIC,KAAM,+BAClB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","file":"static/js/main.6c925a51.chunk.js","sourcesContent":["export const plateOutcomes = [\n  4, // Stolen base\n  5, // Walk\n  6, // Strikeout\n  7, // Flyout\n  8, // Ground out\n  9, // Home run\n  10, // Hit (single/double/triple)\n  22, // Hit by pitch\n  23, // Player skipped due to being Shelled or Elsewhere\n  27, // Mild pitch\n];\n\nexport const changes = [\n  24, // Partying\n  35, // Birds free shelled player\n  40, // Feedback blocked\n  41, // Feedback\n  47, // Allergic reaction\n  49, // Reverb shuffle\n  51, // Blooddrain\n  52, // Siphon\n  54, // Incineration\n  67, // Consumers attack\n  72, // Peanut Mister\n  74, // Tasting the infinite (Shelling)\n  84, // Return from Elsewhere\n\n  109, // Player recruited (including Postseason Births)\n  110, // Player sent to shadows and replaced (necromancy)\n  111, // Player removed and replaced from shadows (Returned)\n  112, // ECHO STATIC player removed from team\n  113, // Player trade\n  114, // Player changing position\n  115, // Player joining team\n  116, // New player after incineration\n  117, // Player stat increase\n  118, // Player stat decrease\n  119, // Player reroll\n  125, // Player enters the Hall of Flame\n  126, // Player exits the Hall of Flame\n  127, // Player gained item\n  130, // Reverb shuffle (full)\n  132, // Reverb shuffle (rotation)\n  137, // Player hatched\n  139, // Player Evolves\n  145, // Player becomes an Alternate\n  149, // Necromancy narration\n  150, // Returned player is permitted to stay\n  161, // Player gained blood type\n  168, // Peanut allergy cured (Nut Button)\n  170, // Echo player becomes Static\n  179, // Player hidden stat increase\n  180, // Player hidden stat decrease\n];\n\nexport const neat = [\n  34, // Murder of crows\n  36, // Triple Threat\n  37, // Free Refill\n  39, // Wired\n  48, // Reverberating\n  55, // Fire eating\n  62, // Flood\n  63, // Salmon swim upstream\n  65, // Entering the Secret Base\n  66, // Exiting the Secret Base\n  70, // Grind Rail\n];\n\nexport const team = [\n  56, // Flag planted\n  57, // Renovation built\n  60, // Blessing won\n  61, // Will received\n  78, // Solar Panels start-up text\n  79, // Solar Panels overflow run collection\n  135, // New team\n  136, // New player (excluding incinerations)\n  141, // Team wins Internet Series\n  166, // Lineup optimized\n];\n\n/*\n * 0: Plays\n * 1: Changes\n * 2: Special\n * 3: Outcomes\n * 4: Narrative\n */\n\nexport const types = [...plateOutcomes, ...changes, ...neat, ...team];\n\nexport const knownTypes = [\n  {value: 0, desc: \"Game start\"},\n  {value: 1, desc: \"Play ball!\"},\n  {value: 2, desc: \"Half-inning\"},\n  {value: 3, desc: \"Pitcher change\"},\n  {value: 4, desc: \"Stolen base\"},\n  {value: 5, desc: \"Walk\"},\n  {value: 6, desc: \"Strikeout\"},\n  {value: 7, desc: \"Flyout\"},\n  {value: 8, desc: \"Ground out\"},\n  {value: 9, desc: \"Home run\"},\n  {value: 10, desc: \"Hit (single/double/triple)\"},\n  {value: 11, desc: \"Game end\"},\n  {value: 12, desc: \"Plate appearance\"},\n  {value: 13, desc: \"Strike (not including Foul Balls)\"},\n  {value: 14, desc: \"Ball\"},\n  {value: 15, desc: \"Foul Ball\"},\n  {value: 20, desc: \"Runs are overflowing\"},\n  {value: 21, desc: \"Home Field Advantage activation\"},\n  {value: 22, desc: \"Hit by pitch\"},\n  {value: 23, desc: \"Player skipped due to being Shelled or Elsewhere\"},\n  {value: 24, desc: \"Partying\"},\n  {value: 25, desc: \"Strike zapped by Electric blood\"},\n  {value: 26, desc: \"Weather change\"},\n  {value: 27, desc: \"Mild pitch\"},\n  {value: 28, desc: \"End of inning\"},\n  {value: 29, desc: \"Site takeover text\"},\n  {value: 30, desc: \"Black Hole: collect 10 (in-game)\"},\n  {value: 31, desc: \"Sun 2: collect 10 (in-game)\"},\n  {value: 33, desc: \"Birds: circling, no shelled player\"},\n  {value: 34, desc: \"Birds: Friend of Crows proc\"},\n  {value: 35, desc: \"Birds: freeing a shelled player\"},\n  {value: 36, desc: \"Coffee 3s: gaining Triple Threat\"},\n  {value: 37, desc: \"Coffee 2: gaining a Free Refill\"},\n  {value: 39, desc: \"Coffee: gaining/losing Wired/Tired\"},\n  {value: 40, desc: \"Feedback: swap blocked\"},\n  {value: 41, desc: \"Feedback: swap\"},\n  {value: 45, desc: \"Peanuts: Superallergic reaction\"},\n  {value: 47, desc: \"Peanuts: allergic reaction\"},\n  {value: 48, desc: \"Reverb: becoming Reverberating\"},\n  {value: 49, desc: \"Reverb: roster shuffle message\"},\n  {value: 51, desc: \"Blooddrain: normal transfusion\"},\n  {value: 52, desc: \"Blooddrain: Siphon proc\"},\n  {value: 53, desc: \"Blooddrain: transfusion (either normal/Siphon) blocked by Sealant\"},\n  {value: 54, desc: \"Solar Eclipse: Incineration\"},\n  {value: 55, desc: \"Solar Eclipse: Incineration blocked\"},\n  {value: 56, desc: \"Flag planted\"},\n  {value: 57, desc: \"Renovation built\"},\n  {value: 58, desc: \"Light switch is now OFF/ON\"},\n  {value: 59, desc: \"Decree passed\"},\n  {value: 60, desc: \"Blessing won\"},\n  {value: 61, desc: \"Will received\"},\n  {value: 62, desc: \"Flooding\"},\n  {value: 63, desc: \"Salmon: salmon swim upstream\"},\n  {value: 64, desc: \"Polarity: polarity shift\"},\n  {value: 65, desc: \"Entering the Secret Base\"},\n  {value: 66, desc: \"Exiting the Secret Base\"},\n  {value: 67, desc: \"Consumers attack\"},\n  {value: 69, desc: \"Echo Chamber\"},\n  {value: 70, desc: \"Grind Rail\"},\n  {value: 71, desc: \"Tunnels used\"},\n  {value: 72, desc: \"Peanut Mister\"},\n  {value: 73, desc: \"Peanuts: flavor text\"},\n  {value: 74, desc: \"Tasting the infinite (Shelling)\"},\n  {value: 76, desc: \"Event Horizon activates\"},\n  {value: 77, desc: \"Event Horizon awaits\"},\n  {value: 78, desc: \"Solar Panels start-up text\"},\n  {value: 79, desc: \"Solar Panels overflow run collection\"},\n  {value: 81, desc: \"Tarot reading\"},\n  {value: 82, desc: \"Emergency Alert\"},\n  {value: 84, desc: \"Return from Elsewhere\"},\n  {value: 85, desc: \"Over Under\"},\n  {value: 86, desc: \"Under Over\"},\n  {value: 88, desc: \"Undersea\"},\n  {value: 91, desc: \"Homebody\"},\n  {value: 92, desc: \"Superyummy\"},\n  {value: 93, desc: \"Perk\"},\n  {value: 96, desc: \"Earlbirds\"},\n  {value: 97, desc: \"Late to the Party\"},\n  {value: 99, desc: \"Shame Donor\"},\n  {value: 106, desc: \"Added modification\"},\n  {value: 107, desc: \"Removed modification\"},\n  {value: 108, desc: \"Timed modification expires\"},\n  {value: 109, desc: \"Player recruited (including Postseason Births)\"},\n  {value: 110, desc: \"Player sent to shadows and replaced (necromancy)\"},\n  {value: 111, desc: \"Player removed and replaced from shadows (Returned)\"},\n  {value: 112, desc: \"Player removed from team\"},\n  {value: 113, desc: \"Player trade\"},\n  {value: 114, desc: \"Player position swap within team\"},\n  {value: 115, desc: \"Player moved from one team to another\"},\n  {value: 116, desc: \"Player incineration replacement\"},\n  {value: 117, desc: \"Player rating increase\"},\n  {value: 118, desc: \"Player rating decrease\"},\n  {value: 119, desc: \"Player reroll\"},\n  {value: 122, desc: \"Rating change from Superallergic reaction\"},\n  {value: 124, desc: \"Failed player move due to Force\"},\n  {value: 125, desc: \"Player enters the Hall of Flame\"},\n  {value: 126, desc: \"Player exits the Hall of Flame\"},\n  {value: 127, desc: \"Player gained item\"},\n  {value: 128, desc: \"Player lost item\"},\n  {value: 130, desc: \"Reverb shuffle (full)\"},\n  {value: 131, desc: \"Reverb shuffle (lineup)\"},\n  {value: 132, desc: \"Reverb shuffle (rotation)\"},\n  {value: 133, desc: \"Team incineration replacement\"},\n  {value: 135, desc: \"New Challenger (team joins the league)\"},\n  {value: 136, desc: \"Existing player joins the ILB\"},\n  {value: 137, desc: \"Player hatched / Replica created\"},\n  {value: 138, desc: \"Team joins the league (Library)\"},\n  {value: 139, desc: \"Player Evolves\"},\n  {value: 141, desc: \"Team wins Internet Series\"},\n  {value: 142, desc: \"Postseason spot\"},\n  {value: 143, desc: \"Final Regular Season standings\"},\n  {value: 144, desc: \"Modification replaced\"},\n  {value: 145, desc: \"Player becomes an Alternate\"},\n  {value: 146, desc: \"Added modification due to another mod\"},\n  {value: 147, desc: \"Removed modification added by another mod\"},\n  {value: 148, desc: \"Replaced modification due to another mod\"},\n  {value: 149, desc: \"Narration for necromancy / extraplanar plunder\"},\n  {value: 150, desc: \"Returned player is permitted to stay\"},\n  {value: 151, desc: \"Decree narration\"},\n  {value: 152, desc: \"Will results\"},\n  {value: 153, desc: \"Team stat adjustments (S15+)\"},\n  {value: 154, desc: \"Team shamed by another\"},\n  {value: 155, desc: \"Team shames another\"},\n  {value: 156, desc: \"Sun 2 grants a Win (pre-S20)\"},\n  {value: 157, desc: \"Black Hole swallows a Win (pre-S20)\"},\n  {value: 158, desc: \"Eliminated from postseason\"},\n  {value: 159, desc: \"Postseason advance\"},\n  {value: 161, desc: \"Player gained blood type\"},\n  {value: 165, desc: \"High Pressure\"},\n  {value: 166, desc: \"Roster sorted\"},\n  {value: 168, desc: \"Peanut allergy cured (Nut Button)\"},\n  {value: 169, desc: \"Echoed player\"},\n  {value: 170, desc: \"Echo into Static\"},\n  {value: 171, desc: \"Removed multiple modifications due to another mod (Echo)\"},\n  {value: 172, desc: \"Added multiple modifications due to another mod (Echo)\"},\n  {value: 173, desc: \"PsychoAcoustics\"},\n  {value: 174, desc: \"Receiver becomes an Echo\"},\n  {value: 175, desc: \"Investigation progress (upshellable for fish)\"},\n  {value: 176, desc: \"Election results: Tidings subsection\"},\n  {value: 177, desc: \"Glitter: Crate drop\"},\n  {value: 178, desc: \"Middling\"},\n  {value: 179, desc: \"Player hidden stat increase\"},\n  {value: 180, desc: \"Player hidden stat decrease\"},\n  {value: 181, desc: \"Entering a Crime Scene\"},\n  {value: 182, desc: \"Ambitious\"},\n  {value: 183, desc: \"Unambitious\"},\n  {value: 184, desc: \"Coasting\"},\n  {value: 185, desc: \"Item breaks\"},\n  {value: 186, desc: \"Item damaged\"},\n  {value: 187, desc: \"Broken item repaired\"},\n  {value: 188, desc: \"Damaged item repaired\"},\n  {value: 189, desc: \"Community Chest opens\"},\n  {value: 190, desc: \"No free item slot\"},\n  {value: 191, desc: \"Fax Machine activation\"},\n  {value: 192, desc: \"Holiday Inning\"},\n  {value: 193, desc: \"Prize Match (declaring what the prize is)\"},\n  {value: 194, desc: \"Team received gifts\"},\n  {value: 195, desc: \"Smithy activation\"},\n  {value: 196, desc: \"Player enters the Vault\"},\n  {value: 198, desc: \"A Blood Type\"},\n  {value: 199, desc: \"Player soul increase\"},\n  {value: 201, desc: \"Narrative being actions\"},\n  {value: 202, desc: \"Library: Pre-season message\"},\n  {value: 203, desc: \"Ballpark mod Ratified into Non-Physical Law\"},\n  {value: 204, desc: \"SMASH\"},\n  {value: 206, desc: \"Hype built in ballpark\"},\n  {value: 208, desc: \"Practicing Moderation\"},\n  {value: 209, desc: \"Runs scored\"},\n  {value: 210, desc: \"League modification added\"},\n  {value: 211, desc: \"League modification removed\"},\n  {value: 213, desc: \"Ballons inflated from win\"},\n  {value: 214, desc: \"Win collected (Regular Season, S20+)\"},\n  {value: 215, desc: \"Win collected (Postseason, S20+)\"},\n  {value: 216, desc: \"Game over\"},\n  {value: 217, desc: \"Sun(Sun) pressure change\"},\n  {value: 218, desc: \"Tunnel used, nothing found\"},\n  {value: 219, desc: \"Tunnel used, fled Elsewhere\"},\n  {value: 220, desc: \"Tunnel used, stole item\"},\n  {value: 223, desc: \"Weather event\"},\n  {value: 224, desc: \"Element added to item\"},\n  {value: 226, desc: \"Sun 30 smiles\"},\n  {value: 228, desc: \"Voicemail activation\"},\n  {value: 230, desc: \"Phantom Thieves Guild steals item\"},\n  {value: 231, desc: \"Phantom Thieves Guild steals player\"},\n  {value: 232, desc: \"[TUMBLEWEED SOUNDS]\"},\n  {value: 233, desc: \"Trader/Traitor\"},\n  {value: 234, desc: \"Item trade failed\"},\n  {value: 236, desc: \"Item traded\"},\n  {value: 238, desc: \"[Unknown - redacted] (Library)\"},\n  {value: 241, desc: \"Vault revealed\"},\n  {value: 246, desc: \"Game cancelled\"},\n  {value: 247, desc: \"Sun(Sun) Supernova\"},\n  {value: 249, desc: \"Black Hole (Black Hole)\"},\n  {value: 251, desc: \"Jazz\"},\n  {value: 256, desc: \"From diagonal, glood\"},\n];\n\nexport const listenFeed = function(cb) {\n  let stream = new EventSource(`https://api.sibr.dev/eventually/sse`);\n  stream.addEventListener(\"message\", (event) => {\n    const f = JSON.parse(event.data);\n    if (types.includes(f.type)) {\n      cb(JSON.parse(event.data));\n    }\n  });\n  stream.addEventListener(\"error\", () => {\n    console.log(\"allyoops\");\n    if (stream !== undefined) {\n      stream.close();\n    }\n    setTimeout(() => listenFeed(cb), 2000);\n  });\n};\n\nexport const fetchFeed = ({playerIds, teamIds, eventTypes, beings, categories, after, limit, before, unredacted}) => {\n  if (unredacted) {\n    return fetch(`https://api.sibr.dev/upnuts/upstream`)\n      .then(res => res.json())\n      .then(events => events.filter((e) => e.type === 'THRESHOLD_PASSED_SCALES'))\n      .then(events => events.map((e) => e.event))\n  }\n\n  let params = new URLSearchParams();\n  if (playerIds && playerIds.length > 0) {\n    params.append(\"playerTags\", playerIds.join(\"_or_\"));\n  }\n  if (teamIds && teamIds.length > 0) {\n    params.append(\"teamTags\", teamIds.join(\"_or_\"));\n  }\n  if (eventTypes && eventTypes.length > 0) {\n    params.append(\"type\", eventTypes.join(\"_or_\"));\n  }\n  if (beings && beings.length > 0) {\n    params.append(\"metadata.being\", beings.join(\"_or_\"));\n  }\n  if (categories && categories.length > 0) {\n    params.append(\"category\", categories.join(\"_or_\"));\n  }\n  if (after) {\n    params.append(\"after\", (after / 1000) | 0);\n  }\n  if (before) {\n    params.append(\"before\", (before / 1000) | 0);\n  }\n  params.append(\"limit\", limit || 100);\n  return fetch(`https://api.sibr.dev/eventually/v2/events?${params.toString()}`)\n    .then(res => res.json());\n};\n","import { createStore } from 'redux';\n\nconst initialState = {\n  feed: [],\n  columnDefs: [],\n  lastUpdate: Date.now(),\n  autoRefresh: false,\n  feeds: {},\n  teamOptions: [],\n  playerOptions: [],\n  showCurrentSeason: false,\n  showMetadata: true\n};\n\nfunction mainReducer(state = initialState, action) {\n  switch (action.type) {\n    case 'autoRefresh/toggle':\n      return {\n        ...state,\n        autoRefresh: !state.autoRefresh\n      };\n    case 'showCurrentSeason/set':\n      return {\n        ...state,\n        showCurrentSeason: action.payload\n      };\n    case 'autoRefresh/set':\n      return {\n        ...state,\n        autoRefresh: action.payload\n      };\n    case 'setOptions/teams':\n      return {\n        ...state,\n        teamOptions: action.payload\n      };\n    case 'setOptions/players':\n      return {\n        ...state,\n        playerOptions: action.payload\n      };\n    case 'columnDefs/set':\n      return {\n        ...state,\n        columnDefs: [...action.payload]\n      };\n    case 'columnDefs/add':\n      return {\n        ...state,\n        columnDefs: [...state.columnDefs, action.payload]\n      };\n    case 'columnDefs/remove':\n      let feeds = {...state.feeds};\n      delete feeds[action.payload];\n      return {\n        ...state,\n        feeds: feeds,\n        columnDefs: state.columnDefs.filter((entry) => {\n          return entry.key !== action.payload;\n        })\n      };\n    case 'columnDefs/update':\n      return {\n        ...state,\n        columnDefs: state.columnDefs.map((entry) => {\n          if (entry.key !== action.payload.key) {\n            return entry;\n          }\n          return {\n            key: entry.key,\n            title: action.payload.title === undefined ? entry.title : action.payload.title,\n            playerIds: action.payload.playerIds === undefined ? entry.playerIds : action.payload.playerIds,\n            teamIds: action.payload.teamIds === undefined ? entry.teamIds : action.payload.teamIds,\n            eventTypes: action.payload.eventTypes === undefined ? entry.eventTypes : action.payload.eventTypes,\n            beings: action.payload.beings === undefined ? entry.beings : action.payload.beings,\n            categories: action.payload.categories === undefined ? entry.categories : action.payload.categories\n          };\n        })\n      };\n    case 'columnDefs/move':\n      let i = state.columnDefs.findIndex((e) => e.key === action.payload.id);\n      let swap = i + action.payload.delta;\n      if (swap < 0 || swap >= state.columnDefs.length) {\n        return {...state}\n      }\n      let tmp = state.columnDefs[i];\n      state.columnDefs[i] = state.columnDefs[swap];\n      state.columnDefs[swap] = tmp;\n      return {\n        ...state,\n        columnDefs: [\n          ...state.columnDefs\n        ]\n      }\n    case 'feeds/append':\n      let copy = {\n        ...state,\n        feeds: {\n          ...state.feeds\n        }\n      };\n      let prev = [];\n      if (!action.payload.reset) {\n        prev = state.feeds[action.payload.id] || [];\n      }\n      let existingIds = new Set(prev.map(e => e.id));\n      let prepend = [];\n      if (action.payload.prepend) {\n        prepend = prev;\n        prev = [];\n      }\n      copy.feeds[action.payload.id] = [\n        ...prepend,\n        ...action.payload.entries.filter(e => !existingIds.has(e.id)),\n        ...prev\n      ];\n      if (action.payload.limit !== undefined) {\n        copy.feeds[action.payload.id] = copy.feeds[action.payload.id].slice(0, action.payload.limit);\n      }\n      return copy;\n    case 'lastUpdate/set':\n      return {\n        ...state,\n        lastUpdate: action.payload\n      };\n    case 'metadata/toggle':\n      return {\n        ...state,\n        showMetadata: !state.showMetadata\n      };\n    default:\n      return state;\n  }\n}\n\nconst store = createStore(mainReducer);\n\nexport default store;\n","import store from \"./store\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport const addColumn = function({key, title, playerIds, teamIds, eventTypes, beings, categories, unredacted}) {\n  return store.dispatch({\n    type: \"columnDefs/add\",\n    payload: {\n      key: key || uuidv4(),\n      title: title,\n      playerIds: playerIds || [],\n      teamIds: teamIds || [],\n      eventTypes: eventTypes || [],\n      beings: beings || [],\n      categories: categories || [],\n      unredacted: false\n    }\n  });\n};\n\nexport const setColumns = function(columns) {\n  return store.dispatch({\n    type: 'columnDefs/set',\n    payload: columns\n  });\n};\n\nexport const removeColumn = function(key) {\n  return store.dispatch({\n    type: \"columnDefs/remove\",\n    payload: key\n  })\n};\n\nexport const updateColumn = function(key, payload) {\n  return store.dispatch({\n    type: \"columnDefs/update\",\n    payload: {\n      key: key,\n      title: payload.title,\n      playerIds: payload.playerIds,\n      teamIds: payload.teamIds,\n      eventTypes: payload.eventTypes,\n      beings: payload.beings,\n      categories: payload.categories,\n      unredacted: payload.unredacted\n    }\n  });\n};\n\nexport const moveColumn = function(key, direction) {\n  return store.dispatch({\n    type: 'columnDefs/move',\n    payload: {\n      id: key,\n      delta: direction\n    }\n  });\n}\n\nexport const feedsMe = function(id, entries, reset, prepend, limit) {\n  return store.dispatch({\n    type: \"feeds/append\",\n    payload: {\n      id: id,\n      entries: entries,\n      reset: reset,\n      prepend: prepend,\n      limit: limit\n    }\n  });\n};\n\nexport const setTeamOptions = function(options) {\n  return store.dispatch({\n    type: \"setOptions/teams\",\n    payload: options\n  });\n};\n\nexport const setPlayerOptions = function(options) {\n  return store.dispatch({\n    type: \"setOptions/players\",\n    payload: options\n  });\n};\n\nexport const setLastUpdate = () => {\n  return store.dispatch({\n    type: \"lastUpdate/set\",\n    payload: Date.now()\n  });\n};\n\nexport const toggleAutoRefresh = () => {\n  return store.dispatch({\n    type: 'autoRefresh/toggle',\n  });\n};\n\nexport const setShowCurrentSeason = (payload) => {\n  return store.dispatch({\n    type: 'showCurrentSeason/set',\n    payload: payload\n  });\n};\n\nexport const setAutoRefresh = (ar) => {\n  return store.dispatch({\n    type: 'autoRefresh/set',\n    payload: ar\n  });\n}\n\nexport const toggleExpandMetadata = () => {\n  return store.dispatch({\n    type: 'metadata/toggle'\n  });\n};\n","import Select from \"react-select\";\nimport { updateColumn, removeColumn, moveColumn } from \"../redux/actions\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector } from 'react-redux';\nimport { knownTypes } from \"../api/eventuallie\";\nimport ReactModal from 'react-modal';\n\nconst AdvancedTypeModal = (props) => {\n  const { defs, close } = props;\n  const [ types, setTypes ] = useState(new Set(defs?.eventTypes || []));\n  const [ search, setSearch ] = useState(undefined);\n\n  return (\n    <>\n    <h2 style={{margin: 0}}>Blaseball Events</h2>\n    <input\n      type=\"text\"\n      placeholder=\"Filter\"\n      onChange={(e => {\n        setSearch(e.target.value);\n      })}/>\n    <div className=\"typeModalColumns\">\n      {knownTypes\n        .filter((t) => {\n          return !search || t.desc.toLowerCase().includes(search.toLowerCase()) || `${t.value}`.includes(`${search}`);\n        })\n        .map((t) => {\n        return (\n          <div key={t.value} className=\"typeCheckbox\">\n          <input\n            id={`type${t.value}`}\n            type=\"checkbox\"\n            checked={types.has(t.value)}\n            onChange={() => {\n              if (types.has(t.value)) {\n                types.delete(t.value);\n              } else {\n                types.add(t.value);\n              }\n              setTypes(new Set(types));\n            }}\n          />\n          <label htmlFor={`type${t.value}`}>{`${t.value}: ${t.desc}`}</label>\n          </div>\n        );\n      })}\n    </div>\n    <button onClick={() => close(types)}>{\"Save & Close\"}</button>\n    <button onClick={() => setTypes(new Set())}>Clear</button>\n    </>\n  );\n};\n\nconst TypeSelect = (props) => {\n  const { colId, defs } = props;\n  const [ expandAdvanced, setExpandAdvanced ] = useState(false);\n  const closeAdvanced = (types) => {\n    setExpandAdvanced(false);\n    updateColumn(colId, {\n      eventTypes: [...types]\n    });\n  };\n\n  const [ category, setCategory ] = useState(new Set(defs?.categories || []));\n  useEffect(() => {\n    updateColumn(colId, {\n      categories: [...category]\n    });\n  }, [category, colId]);\n\n  const categoryOptions = [\n    {label: \"Plays\", value: 0},\n    {label: \"Changes\", value: 1},\n    {label: \"Special\", value: 2},\n    {label: \"Outcomes\", value: 3},\n    {label: \"Narrative\", value: 4}\n  ];\n\n  return (\n    <div>\n      <div className=\"categorySelect\">\n        <div className=\"categoryOption\">\n          <input\n            id={`cat_all${colId}`}\n            type=\"checkbox\"\n            checked={category.size === 0}\n            onChange={() => {\n              if (category.size !== 0) {\n                setCategory(new Set());\n              }\n            }}\n          />\n          <label htmlFor={`cat_all${colId}`}>All</label>\n        </div>\n        {categoryOptions.map((o) => {\n          return (\n            <div key={`${colId}${o.value}`} className=\"categoryOption\">\n              <input\n                id={`cat${o.value}${colId}`}\n                type=\"checkbox\"\n                checked={category.has(o.value)}\n                onChange={() => {\n                  if (category.has(o.value)) {\n                    category.delete(o.value);\n                  } else {\n                    category.add(o.value);\n                  }\n                  if (category.size === categoryOptions.length) {\n                    category.clear();\n                  }\n                  setCategory(new Set(category));\n                }}\n              />\n              <label htmlFor={`cat${o.value}${colId}`}>{o.label}</label>\n            </div>\n          );\n        })}\n      </div>\n      <button onClick={() => setExpandAdvanced(!expandAdvanced)}>{\"Advanced >>\"}</button>\n      <ReactModal isOpen={expandAdvanced} className=\"typeModal\">\n        <AdvancedTypeModal defs={defs} close={closeAdvanced} />\n      </ReactModal>\n      {defs?.eventTypes && <div className=\"selectedTypes\">\n        {knownTypes.filter((t) => defs.eventTypes.includes(t.value)).map((t) => {\n          return (<div key={t.value} className=\"selectedTypeCrumb\">{t.value}: {t.desc}</div>);\n        })}\n      </div>}\n    </div>\n  );\n};\n\nconst FilterSelect = (props) => {\n  const teamOptions = useSelector((state) => state.teamOptions);\n  const playerOptions = useSelector((state) => state.playerOptions);\n  const defs = useSelector((state) => state.columnDefs.find((c) => {\n    return c.key === props.id;\n  }));\n\n  const [expand, setExpand] = useState(props.expand || defs?.title === undefined ? true : false);\n  const [removeConfirm, setRemoveConfirm] = useState(false)\n\n  const beingOptions = [\n    {label: \"Big Deal\", value: -1},\n    {label: \"Monitor\", value: 1},\n    {label: \"Coin\", value: 2},\n    {label: \"Reader\", value: 3},\n    {label: \"Microphone\", value: 4},\n    {label: \"Lotcrates\", value: 5},\n    {label: \"Namerifeht\", value: 6},\n  ];\n\n  const checkTitle = (opt) => {\n    if (!opt || defs?.title) {\n      return undefined;\n    }\n    return opt[0].label;\n  };\n\n  const selectStyle = {\n    option: (styles, state) => ({\n      ...styles,\n      cursor: \"pointer\",\n    }),\n    control: (styles) => ({\n      ...styles,\n      cursor: \"pointer\",\n    }),\n  };\n\n  return (\n    <div>\n    {!expand ? (\n      <button onClick={() => setExpand(true)} className=\"editButton\">edit</button>\n    ) : (\n      <button className=\"floatRight editButtons\" onClick={() => setExpand(false)}>ok</button>\n    )}\n    {expand ?\n      <input\n        type=\"text\"\n        placeholder={defs?.title || \"Title\"}\n        onBlur={(e) => e.target.value !== defs?.title && updateColumn(props.id, {title: e.target.value})}\n        className=\"titleEdit\"\n      /> :\n      <h1>{defs?.title || \"New Column\"}</h1>\n    }\n    {expand && (\n      <div className=\"editPanel\">\n        <TypeSelect colId={props.id} defs={defs} />\n\n        <label>Teams</label>\n        <Select\n          classNamePrefix=\"editDropdown\"\n          styles={selectStyle}\n          options={teamOptions}\n          defaultValue={defs && teamOptions.filter((t) => defs.teamIds?.includes(t.value))}\n          isMulti\n          onChange={(opt) => {\n            updateColumn(props.id, {\n              title: checkTitle(opt),\n              teamIds: opt.map((o) => o.value)\n            })\n          }} \n        />\n\n        <label>Players</label>\n        <Select\n          classNamePrefix=\"editDropdown\"\n          styles={selectStyle}\n          options={playerOptions}\n          defaultValue={defs && playerOptions.filter((p) => defs.playerIds?.includes(p.value))}\n          isMulti\n          onChange={(opt) => {\n            updateColumn(props.id, {\n              title: checkTitle(opt),\n              playerIds: opt.map((o) => o.value)\n            })\n          }}\n        />\n\n        <label>Beings</label>\n        <Select\n          classNamePrefix=\"editDropdown\"\n          styles={selectStyle}\n          options={beingOptions}\n          defaultValue={defs && beingOptions.filter((b) => defs.beings?.includes(b.value))}\n          isMulti\n          onChange={(opt) => {\n            updateColumn(props.id, {\n              title: checkTitle(opt),\n              beings: opt.map((o) => o.value)\n            });\n          }}\n        />\n        <button onClick={() => moveColumn(props.id, -1)}>Move Left</button>\n        <button onClick={() => moveColumn(props.id, 1)}>Move Right</button>\n        {removeConfirm ? (\n          <>\n          <button onClick={() => setRemoveConfirm(false)} className=\"\">no</button>\n          <button onClick={() => removeColumn(props.id)} className=\"floatRight\">yes</button>\n          <label className=\"\">{\"Remove column?\"}</label>\n          </>\n        ) : (\n          <button onClick={() => setRemoveConfirm(true)} className=\"\">Delete Column</button>\n        )}\n      </div>\n    )}\n\n    </div>\n  );\n};\n\nexport default FilterSelect;\n","export default __webpack_public_path__ + \"static/media/ballclark.92916064.png\";","import NodeCache from \"node-cache\";\nconst cache = new NodeCache();\n\nconst neatPitchEvents = [\n  /hits a (Single|Double|Triple|Quadruple|grand slam)/,\n  /hits a (solo|2-run|3-run|4-run) home run/,\n  /strikes out/,\n  /hits [\\w\\s]+ with a pitch/,\n  /draws a walk/,\n  /charms/\n];\n\nconst neatHitEvents = [\n  /hits a (Single|Double|Triple|Quadruple|grand slam)/,\n  /hits a (solo|2-run|3-run|4-run) home run/,\n  /strikes out/,\n  /hits [\\w\\s]+ with a pitch/,\n  /draws a walk/,\n  /steals (second base|third base|fourth base|fifth base|home)/,\n  /scores/,\n  /Red Hot/,\n  /flyout/,\n  /ground out/,\n  /charms/\n];\n\nconst neatChangeEvents = [\n  /Rogue Umpire/,\n  /feedback/,\n  /Reverb/,\n  /(yummy|allergic) reaction/,\n  /they peck [\\w\\s]+ free!/,\n  /Big Peanut/,\n  /tastes the infinite/,\n  /is now being Observed/,\n  /surge of Immateria/,\n  /Elsewhere/,\n  /CONSUMERS ATTACK/,\n  /ECHO/,\n  /STATIC/,\n  /Echoed/\n];\n\nconst BASE_URL = \"https://api.sibr.dev/corsmechanics/www.blaseball.com/\"\n\nfunction isPitching(update) {\n  for (const pattern of neatPitchEvents) {\n    if (pattern.test(update)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction isNeat(update) {\n  for (const pattern of [...neatHitEvents, ...neatChangeEvents]) {\n    if (pattern.test(update)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport const scheduleToFeed = function(schedule) {\n  return schedule.map((game) => {\n    let feed = {\n      id: `${game.id}_${game.playCount}`,\n      playerTags: [],\n      teamTags: [\n        game.awayTeam,\n        game.homeTeam\n      ],\n      gameTags: [\n        game.id\n      ],\n      season: game.season,\n      tournament: game.tournament,\n      day: game.day,\n      phase: game.phase,\n      category: 0, // uh\n      description: game.lastUpdate,\n      nuts: 0,\n      playerNames: [],\n      teamNames: [\n        game.awayTeamName,\n        game.homeTeamName,\n      ],\n      created: null,\n      type: null, // TODO lmao\n      metadata: {}\n    };\n    let players = [];\n    if (isPitching(game.lastUpdate)) {\n      if (game.topOfInning) {\n        players.push(game.homePitcher);\n      } else {\n        players.push(game.awayPitcher);\n      }\n    }\n    feed.playerTags = players;\n    if (players.length || isNeat(game.lastUpdate)) {\n      return feed;\n    }\n    return undefined;\n  }).filter(f => f !== undefined);\n};\n\nconst cachedFetch = function(url, ttl) {\n  const cached = cache.get(url);\n  if (cached !== undefined) {\n    return Promise.resolve(cached);\n  }\n  const promised = cache.get(`promised${url}`);\n  if (promised !== undefined) {\n    return promised;\n  }\n  const p = fetch(url).then(res => res.json()).then(js => {\n    cache.set(url, js, ttl);\n    return js;\n  });\n  cache.set(`promised${url}`, p, 5);\n  return p;\n};\n\nexport const getSimulationData = function() {\n  return cachedFetch(`${BASE_URL}database/simulationData`, 1800);\n};\n\nexport const getMod = function(id) {\n  if (!id) {\n    return Promise.resolve([]);\n  }\n  return cachedFetch(`${BASE_URL}database/mods?ids=${id}`, 6000);\n};\n\nexport const getItem = function(id) {\n  if (!id) {\n    return Promise.resolve([]);\n  }\n  return cachedFetch(`${BASE_URL}database/items?ids=${id}`, 300);\n};\n\nexport const getTeam = function(id) {\n  return cachedFetch(`${BASE_URL}database/team?id=${id}`, 300);\n}\n","import { useSelector } from \"react-redux\";\nimport { useState, useEffect } from \"react\";\nimport { getMod, getTeam } from \"../api/blaseball\";\n\nconst Minus = () => <span style={{color: \"#F00\"}}>-</span>;\nconst Plus = () => <span style={{color: \"#0C0\"}}>+</span>;\nconst Star = ({color}) => <svg stroke={color} fill={color} stroke-width=\"0\" version=\"1.2\" baseProfile=\"tiny\" viewBox=\"0 0 24 24\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.362 9.158l-5.268.584c-.19.023-.358.15-.421.343s0 .394.14.521c1.566 1.429 3.919 3.569 3.919 3.569-.002 0-.646 3.113-1.074 5.19-.036.188.032.387.196.506.163.119.373.121.538.028 1.844-1.048 4.606-2.624 4.606-2.624l4.604 2.625c.168.092.378.09.541-.029.164-.119.232-.318.195-.505l-1.071-5.191 3.919-3.566c.14-.131.202-.332.14-.524s-.23-.319-.42-.341c-2.108-.236-5.269-.586-5.269-.586l-2.183-4.83c-.082-.173-.254-.294-.456-.294s-.375.122-.453.294l-2.183 4.83z\"></path></svg>;\nconst Arrow = () => <svg fill=\"#888\" stroke-width=\"0\" viewBox=\"0 0 14 12\" height=\"1em\" width=\"1em\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M10.146 4.646a.5.5 0 01.708 0l3 3a.5.5 0 010 .708l-3 3a.5.5 0 01-.708-.708L12.793 8l-2.647-2.646a.5.5 0 010-.708z\" clip-rule=\"evenodd\"></path><path fill-rule=\"evenodd\" d=\"M2 8a.5.5 0 01.5-.5H13a.5.5 0 010 1H2.5A.5.5 0 012 8z\" clip-rule=\"evenodd\"></path></svg>;\n\nconst getPosition = (p) => [\" Lineup\", \" Rotation\", \" Shadows\", \" Shadow\"][p];\n\nconst emoji = (e) => {\n  try {\n    return String.fromCodePoint(e);\n  }\n  catch (err) {\n    return e;\n  }\n};\n\nconst roundNum = (n) => Math.round(n * 100) / 100.0;\n\nconst getTeamEmoji = (id) => {\n  return getTeam(id).then(team => emoji(team.emoji));\n}\n\nconst StarNumber = ({n, color}) => {\n  return <span style={{color: color}} >{roundNum(n)}<Star color={color}/></span>;\n};\n\nconst AddedMod = ({ sign, metadata }) => {\n  const [ color, setColor ] = useState('#fff');\n  const [ text, setText ] = useState('');\n  useEffect(() => getMod(metadata.mod).then(m => {\n    setColor(m[0].textColor);\n    setText(m[0].title);\n  }), [metadata.mod]);\n\n  return <div>{sign} <span style={{color: color}}>{text}</span></div>;\n};\n\nconst TimedModExpiry = ({ metadata }) => {\n  const [ mods, setMods ] = useState([]);\n  useEffect(() => {\n    getMod(metadata.mods).then(m => setMods(m));\n  }, [metadata.mods]);\n\n  return (<ul className=\"plainlist\">\n    {mods.map(m => (<li style={{color: m.textColor}}><Minus/> {m.title}</li>))}\n  </ul>);\n};\n\nconst ReplaceMod = ({ metadata }) => {\n  const [ from, setFrom ] = useState([]);\n  const [ to, setTo ] = useState([]);\n  useEffect(() => {\n    getMod([metadata.from, metadata.to]).then(m => {\n      setFrom(m[0]);\n      setTo(m[1]);\n    });\n  }, [metadata.from, metadata.to])\n  return (<div>\n    <span style={{color: from.textColor}}>{from.title}</span>\n    &nbsp;<Arrow/>&nbsp;\n    <span style={{color: to.textColor}}>{to.title}</span>\n  </div>);\n};\n\nconst MultiMod = ({ metadata }) => {\n  const [ adds, setAdds ] = useState([]);\n  const [ removes, setRemoves ] = useState([]);\n  useEffect(() => {\n    const r = metadata.removes?.map(m => m.mod);\n    const a = metadata.adds?.map(m => m.mod);\n    getMod(r).then(res => setRemoves(res));\n    getMod(a).then(res => setAdds(res));\n  }, [metadata.adds, metadata.removes])\n  return (<div>\n    <ul className=\"plainlist\">\n      {removes.map(m => (<li style={{color: m.textColor}}><Minus/> {m.title}</li>))}\n    </ul>\n    <ul className=\"plainlist\">\n      {adds.map(m => (<li style={{color: m.textColor}}><Plus/> {m.title}</li>))}\n    </ul>\n  </div>);\n};\n\nconst TeamEmoji = ({teamId}) => {\n  const [ em, setEm ] = useState();\n  useEffect(() => getTeamEmoji(teamId).then(e => setEm(e)), [teamId]);\n  return <span className=\"metadataEmoji\">{em}</span>;\n};\n\nconst AddPlayer = ({ metadata, sign }) => {\n  const pos = getPosition(metadata.location);\n  return <div className=\"grid-2\">\n    <div><TeamEmoji teamId={metadata.teamId}/>{metadata.teamName}</div>\n    <div>\n      <div>{sign} {metadata.playerName}</div>\n      {pos && <div>{pos}</div>}\n    </div>\n  </div>\n};\n\nconst ShadowSwapNecro = ({ metadata }) => {\n  const addPos = getPosition(metadata.addLocation);\n  const remPos = getPosition(metadata.retreatLocation);\n\n  return (\n    <div className=\"grid-2\">\n      <div><Minus/> {metadata.retreatPlayerName}</div>\n      <div>{remPos}</div>\n\n      <div><Plus/> {metadata.addPlayerName}</div>\n      <div>{addPos}</div>\n    </div>\n  )\n};\n\nconst ShadowSwapReturn = ({ metadata }) => {\n  const addPos = getPosition(metadata.promoteLocation);\n  const remPos = getPosition(metadata.removeLocation);\n\n  return (\n    <div className=\"grid-2\">\n      <div><Minus/> {metadata.removePlayerName}</div>\n      <div>{remPos}</div>\n\n      <div><Plus/> {metadata.promotePlayerName}</div>\n      <div>{addPos}</div>\n    </div>\n  )\n};\n\nconst TradePlayer = ({ metadata }) => {\n  return (\n    <div className=\"grid-2\">\n      <div><TeamEmoji teamId={metadata.aTeamId}/> {metadata.aTeamName}</div>\n      <div><Plus/>{metadata.bPlayerName}</div>\n\n      <div><TeamEmoji teamId={metadata.bTeamId}/> {metadata.bTeamName}</div>\n      <div><Plus/>{metadata.aPlayerName}</div>\n    </div>\n  );\n};\n\nconst PositionSwap = ({metadata}) => {\n  return (\n    <div className=\"grid-2\">\n      <div>{metadata.aPlayerName}</div>\n      <div><Arrow/> {getPosition(metadata.bLocation)}</div>\n      <div>{metadata.bPlayerName}</div>\n      <div><Arrow/> {getPosition(metadata.aLocation)}</div>\n    </div>\n  );\n};\n\nconst SendPlayer = ({metadata}) => {\n  return (\n    <div className=\"grid-2\">\n      <div><TeamEmoji teamId={metadata.sendTeamId}/>{metadata.sendTeamName}</div>\n      <div><Minus/> {metadata.playerName}</div>\n      <div><TeamEmoji teamId={metadata.receiveTeamId}/>{metadata.receiveTeamName}</div>\n      <div><Plus/> {metadata.playerName}</div>\n    </div>\n  );\n};\n\nconst IncineratePlayer = ({metadata}) => {\n  return (\n    <div className=\"grid-2\">\n      <div><TeamEmoji teamId={metadata.teamId}/>{metadata.teamName}</div>\n      <div><Minus/> {metadata.outPlayerName}</div>\n      <div><TeamEmoji teamId={metadata.teamId}/>{metadata.teamName}</div>\n      <div><Plus/> {metadata.inPlayerName}</div>\n    </div>\n  );\n};\n\nconst IncreaseRating = ({metadata, color}) => {\n  const mult = 5;\n  const label = [\"Hitting\", \"Pitching\", \"Defense\", \"Baserunning\", \"Combined\", \"Overall\"][metadata.type];\n  return <div className=\"grid-2\">\n    <div>{label}</div>\n    <div>{roundNum(mult * metadata.before)} <Arrow/> <StarNumber n={mult * metadata.after} color={color}/></div>\n  </div>\n};\n\nconst IncreaseAttr = ({metadata, color}) => {\n  const label = [\n    'Tragicness',\n    'Buoyancy',\n    'Thwackability',\n    'Moxie',\n    'Divinity',\n    'Musclitude',\n    'Patheticism',\n    'Martyrdom',\n    'Cinnamon',\n    'BaseThirst',\n    'Laserlikeness',\n    'Continuation',\n    'Indulgence',\n    'GroundFriction',\n    'Shakespearianism',\n    'Suppression',\n    'Unthwackability',\n    'Coldness',\n    'Overpowerment',\n    'Ruthlessness',\n    'Pressurization',\n    'Omniscience',\n    'Tenaciousness',\n    'Watchfulness',\n    'Anticapitalism',\n    'Chasiness'\n  ][metadata.type];\n  return <div className=\"grid-2\">\n    <div>{label}</div>\n    <div>{roundNum(metadata.before)} <Arrow/> <StarNumber n={metadata.after} color={color}/></div>\n  </div>\n};\n\nconst Score = ({metadata}) => {\n  return (\n    <div className=\"grid-2\">\n      <div>{emoji(metadata.awayEmoji)} {metadata.awayScore}</div>\n      <div>{emoji(metadata.homeEmoji)} {metadata.homeScore}</div>\n    </div>);\n};\n\nconst EntryMetadata = (props) => {\n  const { type, metadata } = props.data;\n\n  if (!metadata) {\n    return <></>;\n  }\n\n  switch (type) {\n    case 106:\n    case 146:\n    case 203:\n    case 210:\n      return <AddedMod metadata={metadata} sign={<Plus/>} />\n    case 107:\n    case 147:\n    case 211:\n      return <AddedMod metadata={metadata} sign={<Minus/>} />\n    case 108:\n      return <TimedModExpiry metadata={metadata} />\n    case 148:\n      return <ReplaceMod metadata={metadata} />\n    case 171:\n    case 172:\n      return <MultiMod metadata={metadata} />\n    case 109:\n      return <AddPlayer metadata={metadata} sign={<Plus />} />\n    case 112:\n      return <AddPlayer metadata={metadata} sign={<Minus />} />\n    case 110:\n      return <ShadowSwapNecro metadata={metadata} />\n    case 111:\n      return <ShadowSwapReturn metadata={metadata} />\n    case 113:\n      return <TradePlayer metadata={metadata} />\n    case 114:\n      return <PositionSwap metadata={metadata} />\n    case 115:\n      return <SendPlayer metadata={metadata} />\n    case 116:\n      return <IncineratePlayer metadata={metadata} />\n    case 117:\n      return <IncreaseRating metadata={metadata} color=\"#0C0\" />\n    case 118:\n    case 122:\n      return <IncreaseRating metadata={metadata} color=\"#F00\" />\n    case 179:\n      return <IncreaseAttr metadata={metadata} color=\"#0C0\" />\n    case 180:\n      return <IncreaseAttr metadata={metadata} color=\"#F00\" />\n    case 119:\n      return <IncreaseRating metadata={metadata} color={metadata.after > metadata.before ? \"#0C0\" : \"#F00\"} />\n    case 144:\n      return <ReplaceMod metadata={metadata}/>\n    case 209:\n      return <Score metadata={metadata}/>\n    default:\n      return <></>;\n  };\n};\n\nconst EntryMetadataContainer = ({data}) => {\n  const showMetadata = useSelector((state) => state.showMetadata);\n  return showMetadata && (<div className=\"metadataCard\"><small><EntryMetadata data={data} /></small></div>);\n};\n\nexport default EntryMetadataContainer;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { fetchFeed } from \"../api/eventuallie\";\nimport { feedsMe } from \"../redux/actions\";\nimport FilterSelect from \"./filter-select\";\nimport ballclark from \"../ballclark.png\";\nimport ReactTooltip from \"react-tooltip\";\nimport { getSimulationData } from \"../api/blaseball\";\nimport EntryMetadata from \"./card-metadata\";\n\nconst LoadingClark = () => (\n  <div>\n    <center>\n      <div className=\"spinClark\">\n        <img alt=\"loading\" src={ballclark} />\n      </div>\n    </center>\n  </div>\n);\n\nclass Entry extends React.PureComponent {\n  render() {\n    const { season, day, phase, tournament, description, metadata } = this.props.data;\n    let entryText = \"entryText\";\n    switch (parseInt(metadata?.being)) {\n      case -1:\n        entryText += \" bigdeal\";\n        break;\n      case 0:\n        entryText += \" shelledone\";\n        break;\n      case 1:\n        entryText += \" monitor\";\n        break;\n      case 2:\n        entryText += \" boss\";\n        break;\n      case 3:\n        entryText += \" reader\";\n        break;\n      case 4:\n        entryText += \" microphone\";\n        break;\n      case 5:\n        entryText += \" lootcrates\";\n        break;\n      case 6:\n        entryText += \" namerifeht\";\n        break;\n      default:\n        break;\n    }\n    \n    let seasInt = parseInt(season);\n    let seasStr = `s${seasInt + 1}`;\n    let dayStr = `d${parseInt(day) + 1}`;\n    if (seasInt >= -99 && seasInt <= -95) {\n      seasStr = `s${String.fromCharCode(seasInt + 164)}`;\n    } else if (seasInt >= -94 && seasInt <= -69) {\n      seasStr = `sA${String.fromCharCode(seasInt + 159)}`;\n    }\n    switch (parseInt(phase)) {\n      case 0:\n        dayStr = \"G\";\n        break;\n      case 3:\n        dayStr = \"ES\";\n        break;\n      case 5:\n        dayStr = \"LS\";\n        break;\n      case 13:\n        dayStr = \"EL\";\n        break;\n      case 15:\n      case 16:\n      case 17:\n      case 18:\n        seasStr = parseInt(tournament) === -1 ? \"CC\" : \"T\";\n        break;\n      default:\n        break;\n    }\n    \n    return (\n      <div className=\"entry\">\n        <div className=\"entrySeason\">\n          {seasStr}\n        </div>\n        <div className=\"entryDay\">\n          {dayStr}\n        </div>\n        <div className={entryText}>\n          <ul className=\"plainlist\">\n            {description.split(\"\\n\").map((line) => (<li key={line}>{line}</li>))}\n          </ul>\n          <EntryMetadata data={this.props.data} />\n        </div>\n      </div>\n    );\n  }\n};\n\nconst EntryCluster = ({ id, feedEntries, season }) => {\n  const clustered = feedEntries.reduce((acc, f) => {\n    let last = acc.pop();\n    if (last.length === 0 || (last[0].season === f.season && last[0].day === f.day && last[0].phase === f.phase)) {\n      last.push(f);\n      acc.push(last)\n      return acc;\n    }\n    acc.push(last);\n    acc.push([f]);\n    return acc;\n  }, [[]]);\n\n  return (\n    <ul className=\"feedCluster\">\n      {clustered.map(c => (c.length > 0 &&\n        <li\n            key={id + c[0].season + c[0].day + c[0].phase}\n            className={`feedCluster${season !== undefined && c[0].season !== season ? \" faded\" : \"\"}`}>\n          <ul className=\"feedList\" key={\"ul\" + c[0].season + c[0].day + c[0].phase}>\n            {c.map(e => (\n              <li key={\"e\" + e.id} className=\"feedEntry\">\n                <Entry data={e} />\n              </li>\n            ))}\n          </ul>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nconst LoadMore = ({loadMore}) => {\n  const autoRefresh = useSelector((state) => state.autoRefresh);\n\n  if (autoRefresh) {\n    return (<>\n      <button data-tip data-for=\"cantLoad\" className=\"disabled\">Load More</button>\n      <ReactTooltip id=\"cantLoad\" place=\"top\" type=\"dark\" effect=\"solid\" className=\"tooltip\" clickable>\n        Auto-Refresh enabled\n      </ReactTooltip>\n      </>\n    );\n  } else {\n    return <button onClick={loadMore}>Load More</button>;\n  }\n};\n\nconst Entries = (props) => {\n  const { filters, id } = props;\n  const feedEntries = useSelector((state) => state.feeds[id]);\n  const [ loading, setLoading ] = React.useState(false);\n\n  const showCurrentSeason = useSelector((state) => state.showCurrentSeason);\n  const [ season, setSeason ] = React.useState();\n  React.useEffect(() => {\n    if (showCurrentSeason) {\n      getSimulationData().then(s => setSeason(s?.season));\n    } else {\n      setSeason(undefined);\n    }\n  }, [showCurrentSeason]);\n\n  React.useEffect(() => {\n    let cancelled = false;\n    setLoading(true);\n    fetchFeed({\n      unredacted: filters.unredacted,\n      playerIds: filters.playerIds,\n      teamIds: filters.teamIds,\n      eventTypes: filters.eventTypes,\n      beings: filters.beings,\n      categories: filters.categories\n    })\n    .then(r => {\n      if (!cancelled) {\n        feedsMe(id, r, true);\n        setLoading(false);\n      }\n    });\n    return () => (cancelled = true);\n  }, [filters, id]);\n  const lastUpdate = useSelector((state) => state.lastUpdate);\n\n  const [ loadingMore, setLoadingMore ] = React.useState(false);\n  const loadMore = () => {\n    setLoadingMore(true);\n    let before = lastUpdate;\n    if (feedEntries?.length > 0) {\n      const last = feedEntries[feedEntries.length - 1];\n      before = Date.parse(last.created);\n    }\n    fetchFeed({\n      unredacted: filters.unredacted,\n      playerIds: filters.playerIds,\n      teamIds: filters.teamIds,\n      eventTypes: filters.eventTypes,\n      beings: filters.beings,\n      categories: filters.categories,\n      before: before,\n    })\n    .then(r => {\n      feedsMe(id, r, false, true);\n      setLoadingMore(false);\n    });\n  };\n\n  return (\n    <>\n    {loading && <LoadingClark />}\n    {feedEntries && <EntryCluster id={id} feedEntries={feedEntries} season={season}/>}\n    {loadingMore ?\n      <LoadingClark /> :\n      !loading && (<div className=\"loadMore\">\n        <center>\n          <LoadMore loadMore={loadMore}/>\n        </center>\n      </div>)\n    }\n    </>\n  );\n};\n\nconst Card = (props) => {\n  const { filters, id } = props;\n\n  return (\n    <div className=\"card\">\n      <FilterSelect id={id} />\n      <Entries filters={filters} id={id} />\n    </div>\n  );\n}\n\nexport default Card;\n","export const setDarkMode = (mode) => {\n  document.documentElement.classList.add('color-theme-in-transition');\n  document.documentElement.setAttribute('data-theme', mode ? 'dark' : 'light');\n  window.setTimeout(function() {\n    document.documentElement.classList.remove('color-theme-in-transition')\n  }, 700)\n  return isDarkMode();\n};\n\nexport const isDarkMode = () => {\n  return document.documentElement.getAttribute('data-theme') !== 'light';\n};\n\nexport const toggleDarkMode = () => {\n  return setDarkMode(!isDarkMode());\n};\n","import codec from \"json-url\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst toTinyColumn = (column) => {\n  let tiny = {};\n  if (column.unredacted) {\n    tiny.u = column.unredacted;\n    return tiny;\n  }\n  if (column.title) {\n    tiny.n = column.title;\n  }\n  if (column.playerIds) {\n    tiny.p = column.playerIds;\n  }\n  if (column.teamIds) {\n    tiny.t = column.teamIds;\n  }\n  if (column.eventTypes) {\n    tiny.e = column.eventTypes;\n  }\n  if (column.beings) {\n    tiny.b = column.beings;\n  }\n  if (column.categories) {\n    tiny.c = column.categories;\n  }\n  return tiny;\n};\n\nconst fromTinyColumn = (tiny) => {\n  return {\n    title: tiny.n || undefined,\n    key: uuidv4(),\n    playerIds: tiny.p || [],\n    teamIds: tiny.t || [],\n    eventTypes: tiny.e || [],\n    beings: tiny.b || [],\n    categories: tiny.c || [],\n    unredacted: tiny.u || false\n  }\n};\n\nexport const decompress = (hash) => {\n  return codec(\"lzma\").decompress(hash).then((json) => {\n    return json.map(fromTinyColumn);\n  });\n};\n\nexport const compress = (columns) => {\n  return codec(\"lzma\").compress(columns.map(toTinyColumn)).then((s) => {\n    return s;\n  });\n};\n","import { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { useSelector } from \"react-redux\";\nimport { compress, decompress } from \"../lib/hashurl\";\nimport { setColumns } from \"../redux/actions\";\n\nconst saveDeck = (name, columns, setSavedDecks) => {\n  let decks = localStorage.getItem(\"savedDecks\");\n  if (!decks) {\n    decks = \"[]\";\n  }\n  const parsed = JSON.parse(decks);\n  compress(columns).then(s => {\n    parsed.push({\n      id: uuidv4(),\n      name: name,\n      content: s\n    });\n    setSavedDecks(parsed);\n    localStorage.setItem(\"savedDecks\", JSON.stringify(parsed));\n  });\n};\n\nconst DeckLoader = (props) => {\n  const [ savedDecks, setSavedDecks ] = useState([]);\n  const [ confirmSave, setConfirmSave ] = useState(false);\n  const [ saveName, setSaveName ] = useState((new Date()).toLocaleString());\n  const columnDefs = useSelector((state) => state.columnDefs);\n\n  useEffect(() => {\n    const saved = localStorage.getItem(\"savedDecks\");\n    if (saved) {\n      setSavedDecks(JSON.parse(saved));\n    }\n  }, []);\n\n  return (<>\n    <div>\n      {confirmSave && <input\n        type=\"text\"\n        placeholder=\"Name\"\n        onKeyUp={(e) => {\n          if (e.keyCode === 13) {\n            e.preventDefault();\n            saveDeck(saveName, columnDefs, setSavedDecks);\n            setConfirmSave(false);\n          } else {\n            setSaveName(e.target.value || (new Date()).toLocaleString());\n          }\n        }}/>}\n      <button onClick={() => {\n        if (!confirmSave) {\n          setConfirmSave(true);\n        } else {\n          saveDeck(saveName, columnDefs, setSavedDecks);\n          setConfirmSave(false);\n        }\n      }}>Save{!confirmSave && \" Deck\"}</button>\n    <ul className=\"plainlist marginZero\">\n      {\n        savedDecks.map((deck) => (\n          <li key={deck.id}>\n            <button onClick={() => decompress(deck.content).then(c => setColumns(c))}>Load: {deck.name}</button>\n            <button className=\"floatRight\" onClick={() => {\n              const s = savedDecks.filter(d => d.id !== deck.id)\n              setSavedDecks(s)\n              localStorage.setItem(\"savedDecks\", JSON.stringify(s));\n            }}>x</button>\n          </li>\n        ))\n      }\n    </ul>\n    </div>\n  </>);\n};\n\nexport default DeckLoader;\n","import { v4 as uuidv4 } from \"uuid\";\nimport { toast } from 'react-toastify';\nimport { useEffect, useState, useRef } from \"react\";\nimport { addColumn, setColumns, setAutoRefresh, setShowCurrentSeason, toggleExpandMetadata } from \"../redux/actions\";\nimport { useSelector } from \"react-redux\";\nimport { refreshFeeds2 } from \"../lib/munch\";\nimport { isDarkMode, toggleDarkMode } from \"../lib/darkmode\";\nimport ballclark from \"../ballclark.png\";\nimport DeckLoader from \"./deckloader\";\n\nexport const AddColumn = () => (\n  <div>\n  <button className=\"largeText\" onClick={() => addColumn({key: uuidv4()})}>Add Column</button>\n  </div>\n);\n\nexport const ShareLink = ({ hash }) => {\n  const [ shareLink, setShareLink ] = useState();\n  const toastLink = (link) => {\n    navigator.clipboard.writeText(link);\n    toast(`Link copied!\\n${link}`, {\n      autoClose: 4000,\n      hideProgressBar: true,\n      pauseOnHover: false,\n      draggable: false,\n    });\n  };\n  const columns = useSelector((state) => state.columnDefs);\n\n  useEffect(() => {\n    setShareLink(undefined);\n  }, [columns]);\n\n  return (\n    <div className=\"\">\n    <button onClick={() => {\n      if (shareLink) {\n        toastLink(shareLink);\n        return;\n      }\n      fetch('https://tiny.sibr.dev/submit', {\n        method: 'POST',\n        body: `url=https://feedeck.sibr.dev/#/${hash}`,\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      })\n      .then((r) => {\n        if (r.status !== 200) {\n          throw new Error(\"oh no\");\n        }\n        return r.text();\n      })\n      .then((tinyHash) => {\n        const link = `${window.location.origin}/monch#${tinyHash}`;\n        setShareLink(link);\n        toastLink(link);\n      })\n      .catch(() => {\n        setShareLink(undefined);\n        toast(\"oh no something went wrong\", {\n          hideProgressBar: true,\n          draggable: false\n        });\n      })\n    }}>Share</button>\n    {shareLink && <input type=\"text\" value={shareLink} readonly onClick={(e) => e.target.select()}/>}\n    </div>\n  );\n};\n\nexport const NewDeck = () => {\n  return (\n    <div>\n    <button onClick={() => window.open(window.location.origin, '_blank')}>New Deck</button>\n    </div>\n  );\n};\n\nexport const ResetDeck = () => {\n  return (\n    <div>\n    <button onClick={() => setColumns([{key: uuidv4()}])}>Delete Feed</button>\n    </div>\n  );\n};\n\nexport const DuplicateDeck = ({ hash }) => {\n  return (\n    <div>\n    <button onClick={() => window.open(`${window.location.origin}/#/${hash}`, '_blank')}>\n    Duplicate Deck\n    </button>\n    </div>\n  );\n};\n\nexport const RefreshFeed = () => {\n  const lastUpdate = useSelector((state) => state.lastUpdate);\n  const columns = useSelector((state) => state.columnDefs);\n  const feeds = useSelector((state) => state.feeds);\n  const autoRefresh = useSelector((state) => state.autoRefresh);\n  const [ loading, setLoading ] = useState(false);\n\n  const intervalRef = useRef();\n  const refresher = (limit) => {\n    setLoading(true);\n    refreshFeeds2(columns, feeds, limit, lastUpdate).then(() => {\n      setLoading(false);\n    })\n  };\n  useEffect(() => {\n    clearTimeout(intervalRef.current);\n    if (autoRefresh) {\n      intervalRef.current = setTimeout(() => {\n        refresher(50);\n      }, 20000);\n      return () => {\n        clearTimeout(intervalRef.current);\n      }\n    }\n  }, [autoRefresh, lastUpdate, columns]);\n\n  return (\n    <div>\n      <div>\n      {loading ? (\n        <div className=\"spinClark\">\n          <img alt=\"loading\" src={ballclark}/>\n        </div>\n      ): (\n        <button className=\"largeText\" onClick={() => refresher()}>Refresh Feed</button>\n      )}\n      <div className=\"defaultText refreshText\">Last refresh<br/> {(new Date(lastUpdate)).toLocaleString()}</div>\n      </div>\n      <div>\n        <button onClick={() => {\n          if (autoRefresh) {\n            setAutoRefresh(false);\n          } else {\n            setAutoRefresh(true);\n          }\n        }}>&nbsp;Autorefresh: {autoRefresh ? \"Enabled\" : \"Disabled\"}&nbsp;</button>\n      </div>\n    </div>\n  );\n};\n\nexport const DarkToggle = () => {\n  const [ isDark, setIsDark ] = useState(isDarkMode());\n  return <button onClick={() => setIsDark(toggleDarkMode())}>&nbsp;{isDark ? \"\" : \"\"}&nbsp;</button>;\n};\n\nexport const Info = () => {\n  return (\n    <small>\n    <a href=\"https://github.com/jmaliksi/feedeck\">github</a>\n    </small>\n  );\n};\n\nexport const ShowCurrentSeason = () => {\n  const showCurrentSeason = useSelector((state) => state.showCurrentSeason);\n  return (<div>\n    <button onClick={() => setShowCurrentSeason(!showCurrentSeason)}>&nbsp;Filter current season: {showCurrentSeason ? \"Enabled\" : \"Disabled\"}</button>\n  </div>);\n};\n\nexport const ToggleMetadata = () => {\n  const showMetadata = useSelector((state) => state.showMetadata);\n  return (<div>\n    <button onClick={toggleExpandMetadata}>&nbsp;{showMetadata ? \"Hide\" : \"Expand\"} Metadata</button>\n  </div>);\n};\n\nexport const SettingsColumn = ({ hash }) => {\n  return (\n    <div className=\"card\">\n      <AddColumn />\n      <RefreshFeed />\n      <ShowCurrentSeason />\n      <ToggleMetadata />\n      <DarkToggle />\n      <hr />\n      <ShareLink hash={hash} />\n      <div>&nbsp;</div>\n      <NewDeck />\n      <DuplicateDeck hash={hash} />\n      <div>&nbsp;</div>\n      <DeckLoader />\n    </div>\n  );\n};\n","import { feedsMe, setLastUpdate } from '../redux/actions';\nimport { fetchFeed } from '../api/eventuallie';\n\nconst intersect = (a1, a2) => {\n  return a1.filter(v => a2.includes(v));\n};\n\nconst include = (a1, a2) => {\n  return a1?.length === 0 || intersect(a1, a2).length > 0;\n};\n\nexport const refreshFeeds = (updateFrom, columns, limit, season) => {\n  return fetchFeed({after: updateFrom, limit: 1000})\n  .then((updates) => {\n    setLastUpdate();\n    updates.reverse().map(f => {\n      return columns.map(c => {\n        if (include(c.playerIds, f.playerTags) &&\n            include(c.teamIds, f.teamTags) &&\n            include(c.beings, f.metadata ? [f.metadata.being] : []) &&\n            include(c.categories, [f.category]) &&\n            include(c.eventTypes, [f.type])) {\n          return feedsMe(c.key, [f], false, false, limit);\n        }\n        return undefined;\n      });\n    });\n  });\n};\n\nexport const refreshFeeds2 = (columns, feeds, limit, updateFrom) => {\n  return Promise.all(columns.map(c => {\n    const feed = feeds[c.key];\n    if (!feed) {\n      return Promise.resolve(undefined);\n    }\n    const last = feed[0]?.created;\n    const from = last ? Date.parse(last) : updateFrom;\n    return fetchFeed({\n        unredacted: c.unredacted,\n        playerIds: c.playerIds,\n        teamIds: c.teamIds,\n        eventTypes: c.eventTypes,\n        beings: c.beings,\n        categories: c.categories,\n        after: from,\n        limit: limit || 100\n      })\n      .then(r => {\n        const reset = c.unredacted ? true : false;\n        feedsMe(c.key, r, reset, false, limit)\n        setLastUpdate();\n      });\n  }));\n};\n","import { useSelector } from \"react-redux\";\nimport Card from \"./card\";\nimport { addColumn, setColumns } from \"../redux/actions\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { SettingsColumn } from './settings';\nimport { compress, decompress } from '../lib/hashurl';\n\nconst CardContainer = (props) => {\n  const columns = useSelector((state) => state.columnDefs);\n  const history = useHistory();\n\n  const hash = props.match?.params.hash;\n\n  useEffect(() => {\n    if (hash) {\n      decompress(hash).then(cols => {\n        setColumns(cols);\n      });\n    } else {\n      addColumn({});\n    }\n  }, []);\n\n  useEffect(() => {\n    compress(columns).then(s => history.push(`/${s}`));\n  }, [columns]);\n\n  return (\n    <div className=\"cardContainer\">\n      {columns.map(c => (\n        <Card key={c.key} filters={c} id={c.key} />\n      ))}\n      <SettingsColumn hash={hash} />\n    </div>\n  );\n};\n\nexport default CardContainer;\n","import NodeCache from \"node-cache\";\nimport { setTeamOptions, setPlayerOptions } from \"../redux/actions\";\n\nconst cache = new NodeCache();\n\nexport const getNames = () => {\n  var p = cache.get(\"names\");\n  if (p !== undefined) {\n    return Promise.resolve(p);\n  }\n  return fetch(`https://api.sibr.dev/chronicler/v1/players/names`)\n    .then(res => res.json())\n    .then(res => {\n      cache.set(\"names\", res, 600);\n      return res;\n    })\n}\n\nexport const getName = async function(uuid) {\n  var p = await getNames();\n  return p[uuid];\n};\n\nexport const initChron = () => {\n  getNames()\n    .then(res => {\n      setPlayerOptions(\n        Object.entries(res).map((n) => ({value: n[0], label: n[1]}))\n      );\n    });\n\n  fetch(`https://api.sibr.dev/chronicler/v1/teams`)\n    .then(res => res.json())\n    .then(res => {\n      setTeamOptions(\n        res.data\n        .filter((d) => ilbTeamIds.indexOf(d.id) !== -1)\n        .map((d) => (\n          {value: d.id, label: d.data.state?.scattered?.fullName || d.data.fullName}\n        ))\n      );\n    });\n};\n\n// stolen from https://github.com/xSke/blaseball-player-list/blob/main/src/teams.ts thanks astrid\nconst ilbTeamIds = [\n    \"105bc3ff-1320-4e37-8ef0-8d595cb95dd0\",\n    \"23e4cbc1-e9cd-47fa-a35b-bfa06f726cb7\",\n    \"36569151-a2fb-43c1-9df7-2df512424c82\",\n    \"3f8bbb15-61c0-4e3f-8e4a-907a5fb1565e\",\n    \"46358869-dce9-4a01-bfba-ac24fc56f57e\",\n    \"57ec08cc-0411-4643-b304-0e80dbc15ac7\",\n    \"747b8e4a-7e50-4638-a973-ea7950a3e739\",\n    \"7966eb04-efcc-499b-8f03-d13916330531\",\n    \"878c1bf6-0d21-4659-bfee-916c8314d69c\",\n    \"8d87c468-699a-47a8-b40d-cfb73a5660ad\",\n    \"979aee4a-6d80-4863-bf1c-ee1a78e06024\",\n    \"9debc64f-74b7-4ae1-a4d6-fce0144b6ea5\",\n    \"a37f9158-7f82-46bc-908c-c9e2dda7c33b\",\n    \"adc5b394-8f76-416d-9ce9-813706877b84\",\n    \"b024e975-1c4a-4575-8936-a3754a08806a\",\n    \"b63be8c2-576a-4d6e-8daf-814f8bcea96f\",\n    \"b72f3061-f573-40d7-832a-5ad475bd7909\",\n    \"bb4a9de5-c924-4923-a0cb-9d1445f1ee5d\",\n    \"bfd38797-8404-4b38-8b82-341da28b1f83\",\n    \"c73b705c-40ad-4633-a6ed-d357ee2e2bcf\",\n    \"ca3f1c8c-c025-4d8e-8eef-5be6accbeb16\",\n    \"d9f89a8a-c563-493e-9d64-78e4f9a55d4a\",\n    \"eb67ae5e-c4bf-46ca-bbbc-425cd34182ff\",\n    \"f02aeae2-5e6a-4098-9842-02d2273f25c7\",\n    \"b47df036-3aa4-4b98-8e9e-fe1d3ff1894b\", // Oxford Paws\n    \"2e22beba-8e36-42ba-a8bf-975683c52b5f\", // Carolina Queens\n    \"88151292-6c12-4fb8-b2d6-3e64821293b3\", // Alaskan Immortals\n    \"54d0d0f2-16e0-42a0-9fff-79cfa7c4a157\", // Antarctic Fireballs\n    \"9494152b-99f6-4adb-9573-f9e084bc813f\", // Baltimore Crabs\n    \"d6a352fc-b675-40a0-864d-f4fd50aaeea0\", // Canada Artists\n    \"55c9fee3-79c8-4467-8dfb-ff1e340aae8c\", // Dallas Cows\n    \"4c192065-65d8-4010-8145-395f82d24ddf\", // Green Hill Hedgehogs\n    \"258f6389-aac1-43d2-b30a-4b4dde90d5eb\", // Kola Boar\n    \"b6b5df8f-5602-4883-b47d-07e77ed9d5af\", // Laredo Excavators\n    \"1e04e5cc-80a6-41c0-af0d-7292817eed79\", // Louisville Lobsters\n    \"d0762a7e-004b-48a9-a832-a993982b305b\", // Mallorca Whales\n    \"3a094991-4cbc-4786-b74c-688876d243f4\", // Maryland Squirrels\n    \"c19bb50b-9a22-4dd2-8200-bce639b1b239\", // Minneapolis Truckers\n    \"cbd44c06-231a-4d1a-bb7d-4170b06e566a\", // Oklahoma Heartthrobs\n    \"1a51664e-efec-45fa-b0ba-06d04c344628\", // Oregon Psychics\n    \"4cd14d96-f817-41a3-af6c-2d3ed0dd20b7\", // San Diego Saltines\n];\n","import './App.css';\nimport CardContainer from \"./components/card-container\";\nimport { HashRouter, Switch, Route } from \"react-router-dom\";\nimport { initChron } from \"./api/chronicler\";\nimport { useEffect } from \"react\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.min.css'\n\nconst App = () => {\n  useEffect(() => {initChron()}, []);\n  return (\n    <HashRouter>\n      <div className=\"App\">\n        <Switch>\n          <Route path=\"/:hash\" component={CardContainer} />\n          <Route path=\"/\"><CardContainer/></Route>\n        </Switch>\n        <ToastContainer />\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport Modal from 'react-modal';\n// italic styles are intentionally not being imported, to match blaseball.com\nimport \"@fontsource/lora/400.css\";\nimport \"@fontsource/lora/700.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\nModal.setAppElement(document.getElementById('root'));\n"],"sourceRoot":""}